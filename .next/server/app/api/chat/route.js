/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/chat/route";
exports.ids = ["app/api/chat/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=D%3A%5CProjects%5CPython%5Cvercel%5Cchatbot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProjects%5CPython%5Cvercel%5Cchatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=D%3A%5CProjects%5CPython%5Cvercel%5Cchatbot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProjects%5CPython%5Cvercel%5Cchatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Projects_Python_vercel_chatbot_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/chat/route.ts */ \"(rsc)/./src/app/api/chat/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/chat/route\",\n        pathname: \"/api/chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/chat/route\"\n    },\n    resolvedPagePath: \"D:\\\\Projects\\\\Python\\\\vercel\\\\chatbot\\\\src\\\\app\\\\api\\\\chat\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Projects_Python_vercel_chatbot_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZjaGF0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZjaGF0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY2hhdCUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDUHJvamVjdHMlNUNQeXRob24lNUN2ZXJjZWwlNUNjaGF0Ym90JTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1EJTNBJTVDUHJvamVjdHMlNUNQeXRob24lNUN2ZXJjZWwlNUNjaGF0Ym90JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNvQjtBQUNqRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcUHJvamVjdHNcXFxcUHl0aG9uXFxcXHZlcmNlbFxcXFxjaGF0Ym90XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGNoYXRcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NoYXQvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jaGF0XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9jaGF0L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxcUHJvamVjdHNcXFxcUHl0aG9uXFxcXHZlcmNlbFxcXFxjaGF0Ym90XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGNoYXRcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=D%3A%5CProjects%5CPython%5Cvercel%5Cchatbot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProjects%5CPython%5Cvercel%5Cchatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/chat/route.ts":
/*!***********************************!*\
  !*** ./src/app/api/chat/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ai */ \"(rsc)/./node_modules/ai/dist/index.mjs\");\n/* harmony import */ var _ai_sdk_groq__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ai-sdk/groq */ \"(rsc)/./node_modules/@ai-sdk/groq/dist/index.mjs\");\n\n\nasync function POST(req) {\n    const { messages } = await req.json();\n    const model = process.env.MODEL;\n    if (!model) {\n        throw new Error(\"MODEL is not set in the environment variables. Please add it to your environment settings (e.g. .env.develoment) file.\");\n    }\n    let context = null;\n    if (messages.length > 0) {\n        const previousMessages = messages.slice(0, -1);\n        context = await retrieveData(String(messages[messages.length - 1].content), previousMessages);\n    } else {\n        console.log(\"No messages available, skipping retrieveData.\");\n    }\n    // Override the last message to include the context and instructions\n    if (messages.length > 0 && context) {\n        messages[messages.length - 1].content = `\nGenerate a detailed treatment plan for the following patient. Your answer must follow a structured format and provide clear step-by-step recommendations before introducing medications.\n\nOutput Structure:\n\nPatient Overview: Brief summary of the patient's condition.\nLifestyle Modifications (First-Line Treatment, consider lifestyle modifications before medications)\nDietary Changes: Provide a detailed and structured diet plan using Zambian foods, including specific foods to include and avoid (e.g., DASH Diet specifics).\nPhysical Activity: Recommended detailed exercises with intensity and frequency.\nWeight Management Strategy: Target weight, expected reduction per week, and approach.\nAlcohol and Smoking: Limits and alternatives for patients struggling to quit.\nPharmacological Intervention (If Lifestyle Fails to Achieve Target BP)\nMedication Options: Explain the first-line medications and alternatives based on patient profile (e.g., African ethnicity considerations).\nMonitoring & Follow-Up Plan\nBP Check Intervals: Frequency of follow-ups.\nTests Required: What are the tests required according to guidelines.\nSpecial Considerations: Address ethnic, family history, and potential risks for progression to diabetes.\n\nHere is the patient info where you need to generate treatment plan:\n\n<question>\n${messages[messages.length - 1].content}\n</question>\n\nBelow are chunks of information that you can use to answer the question. Each chunk is preceded by a \nsource identifier in the format [source=X&link=Y], where X is the source number and Y is the URL of the source:\n\n<chunks>\n${JSON.stringify(context)}\n</chunks>\n`;\n    }\n    console.log(\"sending messages to the LLM\", messages);\n    const result = await (0,ai__WEBPACK_IMPORTED_MODULE_0__.streamText)({\n        model: (0,_ai_sdk_groq__WEBPACK_IMPORTED_MODULE_1__.groq)(model),\n        system: \"You are the best Hypertension Doctor capable of generating the best treatment plan based on the patient overview. You always generate your responses as correctly structured, valid markdown.\",\n        messages\n    });\n    return result.toDataStreamResponse();\n}\nconst retrieveData = async (question, messages)=>{\n    const token = process.env.VECTORIZE_TOKEN;\n    const pipelineRetrievalUrl = process.env.VECTORIZE_RETRIEVAL_URL;\n    const groqApiKey = process.env.GROQ_API_KEY;\n    if (!token) {\n        throw new Error(\"VECTORIZE_TOKEN is not set in the environment variables. Please add it to your environment settings (e.g. .env.develoment) file.\");\n    }\n    if (!pipelineRetrievalUrl) {\n        throw new Error(\"pipelineRetrievalUrl is not set. Please define the URL in the environment settings (e.g. in the file .env.development) before calling retrieveData.\");\n    }\n    if (!groqApiKey) {\n        throw new Error(\"GROQ_API_KEY is not set in the environment variables. Please add it to your environment settings (e.g. .env.develoment) file.\");\n    }\n    const payload = {\n        question,\n        numResults: 5,\n        rerank: true\n    };\n    if (messages && messages.length > 0) {\n        payload.context = {\n            messages: messages\n        };\n    }\n    const response = await fetch(pipelineRetrievalUrl, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: token\n        },\n        body: JSON.stringify(payload)\n    });\n    if (!response.ok) {\n        throw new Error(`Failed to fetch data: ${response.statusText}`);\n    }\n    const data = await response.json();\n    return data;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9jaGF0L3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUNUO0FBRTdCLGVBQWVFLEtBQUtDLEdBQVk7SUFDckMsTUFBTSxFQUFFQyxRQUFRLEVBQUUsR0FBZ0MsTUFBTUQsSUFBSUUsSUFBSTtJQUNoRSxNQUFNQyxRQUFRQyxRQUFRQyxHQUFHLENBQUNDLEtBQUs7SUFFL0IsSUFBSSxDQUFDSCxPQUFPO1FBQ1YsTUFBTSxJQUFJSSxNQUNSO0lBRUo7SUFDQSxJQUFJQyxVQUFVO0lBRWQsSUFBSVAsU0FBU1EsTUFBTSxHQUFHLEdBQUc7UUFDdkIsTUFBTUMsbUJBQW1CVCxTQUFTVSxLQUFLLENBQUMsR0FBRyxDQUFDO1FBQzVDSCxVQUFVLE1BQU1JLGFBQWFDLE9BQU9aLFFBQVEsQ0FBQ0EsU0FBU1EsTUFBTSxHQUFHLEVBQUUsQ0FBQ0ssT0FBTyxHQUFHSjtJQUM5RSxPQUFPO1FBQ0xLLFFBQVFDLEdBQUcsQ0FBQztJQUNkO0lBRUEsb0VBQW9FO0lBQ3BFLElBQUlmLFNBQVNRLE1BQU0sR0FBRyxLQUFLRCxTQUFTO1FBQ2xDUCxRQUFRLENBQUNBLFNBQVNRLE1BQU0sR0FBRyxFQUFFLENBQUNLLE9BQU8sR0FBRyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFxQjdDLEVBQUViLFFBQVEsQ0FBQ0EsU0FBU1EsTUFBTSxHQUFHLEVBQUUsQ0FBQ0ssT0FBTyxDQUFDOzs7Ozs7O0FBT3hDLEVBQUVHLEtBQUtDLFNBQVMsQ0FBQ1YsU0FBUzs7QUFFMUIsQ0FBQztJQUNDO0lBRUFPLFFBQVFDLEdBQUcsQ0FBQywrQkFBK0JmO0lBRTNDLE1BQU1rQixTQUFTLE1BQU10Qiw4Q0FBVUEsQ0FBQztRQUM5Qk0sT0FBT0wsa0RBQUlBLENBQUNLO1FBQ1ppQixRQUNFO1FBQ0ZuQjtJQUNGO0lBRUEsT0FBT2tCLE9BQU9FLG9CQUFvQjtBQUNwQztBQUVBLE1BQU1ULGVBQWUsT0FBT1UsVUFBa0JyQjtJQUM1QyxNQUFNc0IsUUFBUW5CLFFBQVFDLEdBQUcsQ0FBQ21CLGVBQWU7SUFDekMsTUFBTUMsdUJBQXVCckIsUUFBUUMsR0FBRyxDQUFDcUIsdUJBQXVCO0lBQ2hFLE1BQU1DLGFBQWF2QixRQUFRQyxHQUFHLENBQUN1QixZQUFZO0lBRTNDLElBQUksQ0FBQ0wsT0FBTztRQUNWLE1BQU0sSUFBSWhCLE1BQ1I7SUFFSjtJQUVBLElBQUksQ0FBQ2tCLHNCQUFzQjtRQUN6QixNQUFNLElBQUlsQixNQUNSO0lBRUo7SUFFQSxJQUFJLENBQUNvQixZQUFZO1FBQ2YsTUFBTSxJQUFJcEIsTUFDUjtJQUVKO0lBRUEsTUFBTXNCLFVBQWU7UUFDbkJQO1FBQ0FRLFlBQVk7UUFDWkMsUUFBUTtJQUNWO0lBRUEsSUFBSTlCLFlBQVlBLFNBQVNRLE1BQU0sR0FBRyxHQUFHO1FBQ25Db0IsUUFBUXJCLE9BQU8sR0FBRztZQUNoQlAsVUFBVUE7UUFDWjtJQUNGO0lBRUEsTUFBTStCLFdBQVcsTUFBTUMsTUFBTVIsc0JBQXNCO1FBQ2pEUyxRQUFRO1FBQ1JDLFNBQVM7WUFDUCxnQkFBZ0I7WUFDaEJDLGVBQWViO1FBQ2pCO1FBQ0FjLE1BQU1wQixLQUFLQyxTQUFTLENBQUNXO0lBQ3ZCO0lBRUEsSUFBSSxDQUFDRyxTQUFTTSxFQUFFLEVBQUU7UUFDaEIsTUFBTSxJQUFJL0IsTUFBTSxDQUFDLHNCQUFzQixFQUFFeUIsU0FBU08sVUFBVSxFQUFFO0lBQ2hFO0lBRUEsTUFBTUMsT0FBTyxNQUFNUixTQUFTOUIsSUFBSTtJQUNoQyxPQUFPc0M7QUFDVCIsInNvdXJjZXMiOlsiRDpcXFByb2plY3RzXFxQeXRob25cXHZlcmNlbFxcY2hhdGJvdFxcc3JjXFxhcHBcXGFwaVxcY2hhdFxccm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29yZU1lc3NhZ2UsIHN0cmVhbVRleHQgfSBmcm9tIFwiYWlcIjtcbmltcG9ydCB7IGdyb3EgfSBmcm9tIFwiQGFpLXNkay9ncm9xXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCkge1xuICBjb25zdCB7IG1lc3NhZ2VzIH06IHsgbWVzc2FnZXM6IENvcmVNZXNzYWdlW10gfSA9IGF3YWl0IHJlcS5qc29uKCk7XG4gIGNvbnN0IG1vZGVsID0gcHJvY2Vzcy5lbnYuTU9ERUw7XG5cbiAgaWYgKCFtb2RlbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiTU9ERUwgaXMgbm90IHNldCBpbiB0aGUgZW52aXJvbm1lbnQgdmFyaWFibGVzLiBQbGVhc2UgYWRkIGl0IHRvIHlvdXIgZW52aXJvbm1lbnQgc2V0dGluZ3MgKGUuZy4gLmVudi5kZXZlbG9tZW50KSBmaWxlLlwiLFxuICAgICk7XG4gIH1cbiAgbGV0IGNvbnRleHQgPSBudWxsO1xuXG4gIGlmIChtZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgcHJldmlvdXNNZXNzYWdlcyA9IG1lc3NhZ2VzLnNsaWNlKDAsIC0xKTtcbiAgICBjb250ZXh0ID0gYXdhaXQgcmV0cmlldmVEYXRhKFN0cmluZyhtZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGggLSAxXS5jb250ZW50KSwgcHJldmlvdXNNZXNzYWdlcyk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2coXCJObyBtZXNzYWdlcyBhdmFpbGFibGUsIHNraXBwaW5nIHJldHJpZXZlRGF0YS5cIik7XG4gIH1cblxuICAvLyBPdmVycmlkZSB0aGUgbGFzdCBtZXNzYWdlIHRvIGluY2x1ZGUgdGhlIGNvbnRleHQgYW5kIGluc3RydWN0aW9uc1xuICBpZiAobWVzc2FnZXMubGVuZ3RoID4gMCAmJiBjb250ZXh0KSB7XG4gICAgbWVzc2FnZXNbbWVzc2FnZXMubGVuZ3RoIC0gMV0uY29udGVudCA9IGBcbkdlbmVyYXRlIGEgZGV0YWlsZWQgdHJlYXRtZW50IHBsYW4gZm9yIHRoZSBmb2xsb3dpbmcgcGF0aWVudC4gWW91ciBhbnN3ZXIgbXVzdCBmb2xsb3cgYSBzdHJ1Y3R1cmVkIGZvcm1hdCBhbmQgcHJvdmlkZSBjbGVhciBzdGVwLWJ5LXN0ZXAgcmVjb21tZW5kYXRpb25zIGJlZm9yZSBpbnRyb2R1Y2luZyBtZWRpY2F0aW9ucy5cblxuT3V0cHV0IFN0cnVjdHVyZTpcblxuUGF0aWVudCBPdmVydmlldzogQnJpZWYgc3VtbWFyeSBvZiB0aGUgcGF0aWVudCdzIGNvbmRpdGlvbi5cbkxpZmVzdHlsZSBNb2RpZmljYXRpb25zIChGaXJzdC1MaW5lIFRyZWF0bWVudCwgY29uc2lkZXIgbGlmZXN0eWxlIG1vZGlmaWNhdGlvbnMgYmVmb3JlIG1lZGljYXRpb25zKVxuRGlldGFyeSBDaGFuZ2VzOiBQcm92aWRlIGEgZGV0YWlsZWQgYW5kIHN0cnVjdHVyZWQgZGlldCBwbGFuIHVzaW5nIFphbWJpYW4gZm9vZHMsIGluY2x1ZGluZyBzcGVjaWZpYyBmb29kcyB0byBpbmNsdWRlIGFuZCBhdm9pZCAoZS5nLiwgREFTSCBEaWV0IHNwZWNpZmljcykuXG5QaHlzaWNhbCBBY3Rpdml0eTogUmVjb21tZW5kZWQgZGV0YWlsZWQgZXhlcmNpc2VzIHdpdGggaW50ZW5zaXR5IGFuZCBmcmVxdWVuY3kuXG5XZWlnaHQgTWFuYWdlbWVudCBTdHJhdGVneTogVGFyZ2V0IHdlaWdodCwgZXhwZWN0ZWQgcmVkdWN0aW9uIHBlciB3ZWVrLCBhbmQgYXBwcm9hY2guXG5BbGNvaG9sIGFuZCBTbW9raW5nOiBMaW1pdHMgYW5kIGFsdGVybmF0aXZlcyBmb3IgcGF0aWVudHMgc3RydWdnbGluZyB0byBxdWl0LlxuUGhhcm1hY29sb2dpY2FsIEludGVydmVudGlvbiAoSWYgTGlmZXN0eWxlIEZhaWxzIHRvIEFjaGlldmUgVGFyZ2V0IEJQKVxuTWVkaWNhdGlvbiBPcHRpb25zOiBFeHBsYWluIHRoZSBmaXJzdC1saW5lIG1lZGljYXRpb25zIGFuZCBhbHRlcm5hdGl2ZXMgYmFzZWQgb24gcGF0aWVudCBwcm9maWxlIChlLmcuLCBBZnJpY2FuIGV0aG5pY2l0eSBjb25zaWRlcmF0aW9ucykuXG5Nb25pdG9yaW5nICYgRm9sbG93LVVwIFBsYW5cbkJQIENoZWNrIEludGVydmFsczogRnJlcXVlbmN5IG9mIGZvbGxvdy11cHMuXG5UZXN0cyBSZXF1aXJlZDogV2hhdCBhcmUgdGhlIHRlc3RzIHJlcXVpcmVkIGFjY29yZGluZyB0byBndWlkZWxpbmVzLlxuU3BlY2lhbCBDb25zaWRlcmF0aW9uczogQWRkcmVzcyBldGhuaWMsIGZhbWlseSBoaXN0b3J5LCBhbmQgcG90ZW50aWFsIHJpc2tzIGZvciBwcm9ncmVzc2lvbiB0byBkaWFiZXRlcy5cblxuSGVyZSBpcyB0aGUgcGF0aWVudCBpbmZvIHdoZXJlIHlvdSBuZWVkIHRvIGdlbmVyYXRlIHRyZWF0bWVudCBwbGFuOlxuXG48cXVlc3Rpb24+XG4ke21lc3NhZ2VzW21lc3NhZ2VzLmxlbmd0aCAtIDFdLmNvbnRlbnR9XG48L3F1ZXN0aW9uPlxuXG5CZWxvdyBhcmUgY2h1bmtzIG9mIGluZm9ybWF0aW9uIHRoYXQgeW91IGNhbiB1c2UgdG8gYW5zd2VyIHRoZSBxdWVzdGlvbi4gRWFjaCBjaHVuayBpcyBwcmVjZWRlZCBieSBhIFxuc291cmNlIGlkZW50aWZpZXIgaW4gdGhlIGZvcm1hdCBbc291cmNlPVgmbGluaz1ZXSwgd2hlcmUgWCBpcyB0aGUgc291cmNlIG51bWJlciBhbmQgWSBpcyB0aGUgVVJMIG9mIHRoZSBzb3VyY2U6XG5cbjxjaHVua3M+XG4ke0pTT04uc3RyaW5naWZ5KGNvbnRleHQpfVxuPC9jaHVua3M+XG5gO1xuICB9XG5cbiAgY29uc29sZS5sb2coXCJzZW5kaW5nIG1lc3NhZ2VzIHRvIHRoZSBMTE1cIiwgbWVzc2FnZXMpO1xuXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN0cmVhbVRleHQoe1xuICAgIG1vZGVsOiBncm9xKG1vZGVsKSBhcyBhbnksXG4gICAgc3lzdGVtOlxuICAgICAgXCJZb3UgYXJlIHRoZSBiZXN0IEh5cGVydGVuc2lvbiBEb2N0b3IgY2FwYWJsZSBvZiBnZW5lcmF0aW5nIHRoZSBiZXN0IHRyZWF0bWVudCBwbGFuIGJhc2VkIG9uIHRoZSBwYXRpZW50IG92ZXJ2aWV3LiBZb3UgYWx3YXlzIGdlbmVyYXRlIHlvdXIgcmVzcG9uc2VzIGFzIGNvcnJlY3RseSBzdHJ1Y3R1cmVkLCB2YWxpZCBtYXJrZG93bi5cIixcbiAgICBtZXNzYWdlcyxcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdC50b0RhdGFTdHJlYW1SZXNwb25zZSgpO1xufVxuXG5jb25zdCByZXRyaWV2ZURhdGEgPSBhc3luYyAocXVlc3Rpb246IHN0cmluZywgbWVzc2FnZXM6IENvcmVNZXNzYWdlW10pID0+IHtcbiAgY29uc3QgdG9rZW4gPSBwcm9jZXNzLmVudi5WRUNUT1JJWkVfVE9LRU47XG4gIGNvbnN0IHBpcGVsaW5lUmV0cmlldmFsVXJsID0gcHJvY2Vzcy5lbnYuVkVDVE9SSVpFX1JFVFJJRVZBTF9VUkw7XG4gIGNvbnN0IGdyb3FBcGlLZXkgPSBwcm9jZXNzLmVudi5HUk9RX0FQSV9LRVk7XG5cbiAgaWYgKCF0b2tlbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiVkVDVE9SSVpFX1RPS0VOIGlzIG5vdCBzZXQgaW4gdGhlIGVudmlyb25tZW50IHZhcmlhYmxlcy4gUGxlYXNlIGFkZCBpdCB0byB5b3VyIGVudmlyb25tZW50IHNldHRpbmdzIChlLmcuIC5lbnYuZGV2ZWxvbWVudCkgZmlsZS5cIixcbiAgICApO1xuICB9XG5cbiAgaWYgKCFwaXBlbGluZVJldHJpZXZhbFVybCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwicGlwZWxpbmVSZXRyaWV2YWxVcmwgaXMgbm90IHNldC4gUGxlYXNlIGRlZmluZSB0aGUgVVJMIGluIHRoZSBlbnZpcm9ubWVudCBzZXR0aW5ncyAoZS5nLiBpbiB0aGUgZmlsZSAuZW52LmRldmVsb3BtZW50KSBiZWZvcmUgY2FsbGluZyByZXRyaWV2ZURhdGEuXCIsXG4gICAgKTtcbiAgfVxuXG4gIGlmICghZ3JvcUFwaUtleSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiR1JPUV9BUElfS0VZIGlzIG5vdCBzZXQgaW4gdGhlIGVudmlyb25tZW50IHZhcmlhYmxlcy4gUGxlYXNlIGFkZCBpdCB0byB5b3VyIGVudmlyb25tZW50IHNldHRpbmdzIChlLmcuIC5lbnYuZGV2ZWxvbWVudCkgZmlsZS5cIixcbiAgICApO1xuICB9XG5cbiAgY29uc3QgcGF5bG9hZDogYW55ID0ge1xuICAgIHF1ZXN0aW9uLFxuICAgIG51bVJlc3VsdHM6IDUsXG4gICAgcmVyYW5rOiB0cnVlLFxuICB9O1xuXG4gIGlmIChtZXNzYWdlcyAmJiBtZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgcGF5bG9hZC5jb250ZXh0ID0ge1xuICAgICAgbWVzc2FnZXM6IG1lc3NhZ2VzLFxuICAgIH07XG4gIH1cblxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHBpcGVsaW5lUmV0cmlldmFsVXJsLCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIEF1dGhvcml6YXRpb246IHRva2VuLFxuICAgIH0sXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gIH0pO1xuXG4gIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBkYXRhOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gIH1cblxuICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICByZXR1cm4gZGF0YTtcbn07XG4iXSwibmFtZXMiOlsic3RyZWFtVGV4dCIsImdyb3EiLCJQT1NUIiwicmVxIiwibWVzc2FnZXMiLCJqc29uIiwibW9kZWwiLCJwcm9jZXNzIiwiZW52IiwiTU9ERUwiLCJFcnJvciIsImNvbnRleHQiLCJsZW5ndGgiLCJwcmV2aW91c01lc3NhZ2VzIiwic2xpY2UiLCJyZXRyaWV2ZURhdGEiLCJTdHJpbmciLCJjb250ZW50IiwiY29uc29sZSIsImxvZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXN1bHQiLCJzeXN0ZW0iLCJ0b0RhdGFTdHJlYW1SZXNwb25zZSIsInF1ZXN0aW9uIiwidG9rZW4iLCJWRUNUT1JJWkVfVE9LRU4iLCJwaXBlbGluZVJldHJpZXZhbFVybCIsIlZFQ1RPUklaRV9SRVRSSUVWQUxfVVJMIiwiZ3JvcUFwaUtleSIsIkdST1FfQVBJX0tFWSIsInBheWxvYWQiLCJudW1SZXN1bHRzIiwicmVyYW5rIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwiYm9keSIsIm9rIiwic3RhdHVzVGV4dCIsImRhdGEiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/chat/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@opentelemetry","vendor-chunks/zod","vendor-chunks/ai","vendor-chunks/@ai-sdk","vendor-chunks/zod-to-json-schema","vendor-chunks/eventsource-parser","vendor-chunks/secure-json-parse","vendor-chunks/nanoid"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=D%3A%5CProjects%5CPython%5Cvercel%5Cchatbot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProjects%5CPython%5Cvercel%5Cchatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();