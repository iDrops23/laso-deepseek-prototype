/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/chat/route";
exports.ids = ["app/api/chat/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=D%3A%5CProjects%5CPython%5Cvercel%5Cchatbot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProjects%5CPython%5Cvercel%5Cchatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=D%3A%5CProjects%5CPython%5Cvercel%5Cchatbot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProjects%5CPython%5Cvercel%5Cchatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Projects_Python_vercel_chatbot_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/chat/route.ts */ \"(rsc)/./src/app/api/chat/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/chat/route\",\n        pathname: \"/api/chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/chat/route\"\n    },\n    resolvedPagePath: \"D:\\\\Projects\\\\Python\\\\vercel\\\\chatbot\\\\src\\\\app\\\\api\\\\chat\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Projects_Python_vercel_chatbot_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZjaGF0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZjaGF0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY2hhdCUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDUHJvamVjdHMlNUNQeXRob24lNUN2ZXJjZWwlNUNjaGF0Ym90JTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1EJTNBJTVDUHJvamVjdHMlNUNQeXRob24lNUN2ZXJjZWwlNUNjaGF0Ym90JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNvQjtBQUNqRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcUHJvamVjdHNcXFxcUHl0aG9uXFxcXHZlcmNlbFxcXFxjaGF0Ym90XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGNoYXRcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NoYXQvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jaGF0XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9jaGF0L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxcUHJvamVjdHNcXFxcUHl0aG9uXFxcXHZlcmNlbFxcXFxjaGF0Ym90XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGNoYXRcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=D%3A%5CProjects%5CPython%5Cvercel%5Cchatbot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProjects%5CPython%5Cvercel%5Cchatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/chat/route.ts":
/*!***********************************!*\
  !*** ./src/app/api/chat/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ai */ \"(rsc)/./node_modules/ai/dist/index.mjs\");\n/* harmony import */ var _ai_sdk_groq__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ai-sdk/groq */ \"(rsc)/./node_modules/@ai-sdk/groq/dist/index.mjs\");\n\n\nasync function POST(req) {\n    const { messages } = await req.json();\n    const model = process.env.MODEL;\n    if (!model) {\n        throw new Error(\"MODEL is not set in the environment variables. Please add it to your environment settings (e.g. .env.develoment) file.\");\n    }\n    let context = null;\n    if (messages.length > 0) {\n        const previousMessages = messages.slice(0, -1);\n        context = await retrieveData(String(messages[messages.length - 1].content), previousMessages);\n    } else {\n        console.log(\"No messages available, skipping retrieveData.\");\n    }\n    // Override the last message to include the context and instructions\n    if (messages.length > 0 && context) {\n        messages[messages.length - 1].content = `\nYou are tasked with generating a treatment plan using provided chunks of information, consider first steps first before using medications. Your goal is to provide an accurate answer while citing your sources using a specific markdown format.\n\nHere is the question you need to answer:\n<question>\n${messages[messages.length - 1].content}\n</question>\n\nBelow are chunks of information that you can use to answer the question. Each chunk is preceded by a \nsource identifier in the format [source=X&link=Y], where X is the source number and Y is the URL of the source:\n\n<chunks>\n${JSON.stringify(context)}\n</chunks>\n\nYour task is to answer the question using the information provided in these chunks. \nWhen you use information from a specific chunk in your answer, you must cite it using a markdown link format. \nThe citation should appear at the end of the sentence where the information is used.\n\nIf you cannot answer the question using the provided chunks, say \"Sorry I don't know\".\n\nThe citation format should be as follows:\n[Chunk source](URL)\n\nFor example, if you're using information from the chunk labeled [source=3&link=https://example.com/page], your citation would look like this:\n[3](https://example.com/page) and would open a new tab to the source URL when clicked.\n`;\n    }\n    console.log(\"sending messages to the LLM\", messages);\n    const result = await (0,ai__WEBPACK_IMPORTED_MODULE_0__.streamText)({\n        model: (0,_ai_sdk_groq__WEBPACK_IMPORTED_MODULE_1__.groq)(model),\n        system: \"You are the best Hypertension Doctor capable of generating the best treatment plan based on the patient overview. You always generate your responses as correctly structured, valid markdown.\",\n        messages\n    });\n    return result.toDataStreamResponse();\n}\nconst retrieveData = async (question, messages)=>{\n    const token = process.env.VECTORIZE_TOKEN;\n    const pipelineRetrievalUrl = process.env.VECTORIZE_RETRIEVAL_URL;\n    const groqApiKey = process.env.GROQ_API_KEY;\n    if (!token) {\n        throw new Error(\"VECTORIZE_TOKEN is not set in the environment variables. Please add it to your environment settings (e.g. .env.develoment) file.\");\n    }\n    if (!pipelineRetrievalUrl) {\n        throw new Error(\"pipelineRetrievalUrl is not set. Please define the URL in the environment settings (e.g. in the file .env.development) before calling retrieveData.\");\n    }\n    if (!groqApiKey) {\n        throw new Error(\"GROQ_API_KEY is not set in the environment variables. Please add it to your environment settings (e.g. .env.develoment) file.\");\n    }\n    const payload = {\n        question,\n        numResults: 5,\n        rerank: true\n    };\n    if (messages && messages.length > 0) {\n        payload.context = {\n            messages: messages\n        };\n    }\n    const response = await fetch(pipelineRetrievalUrl, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: token\n        },\n        body: JSON.stringify(payload)\n    });\n    if (!response.ok) {\n        throw new Error(`Failed to fetch data: ${response.statusText}`);\n    }\n    const data = await response.json();\n    return data;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9jaGF0L3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUNUO0FBRTdCLGVBQWVFLEtBQUtDLEdBQVk7SUFDckMsTUFBTSxFQUFFQyxRQUFRLEVBQUUsR0FBZ0MsTUFBTUQsSUFBSUUsSUFBSTtJQUNoRSxNQUFNQyxRQUFRQyxRQUFRQyxHQUFHLENBQUNDLEtBQUs7SUFFL0IsSUFBSSxDQUFDSCxPQUFPO1FBQ1YsTUFBTSxJQUFJSSxNQUNSO0lBRUo7SUFDQSxJQUFJQyxVQUFVO0lBRWQsSUFBSVAsU0FBU1EsTUFBTSxHQUFHLEdBQUc7UUFDdkIsTUFBTUMsbUJBQW1CVCxTQUFTVSxLQUFLLENBQUMsR0FBRyxDQUFDO1FBQzVDSCxVQUFVLE1BQU1JLGFBQWFDLE9BQU9aLFFBQVEsQ0FBQ0EsU0FBU1EsTUFBTSxHQUFHLEVBQUUsQ0FBQ0ssT0FBTyxHQUFHSjtJQUM5RSxPQUFPO1FBQ0xLLFFBQVFDLEdBQUcsQ0FBQztJQUNkO0lBRUEsb0VBQW9FO0lBQ3BFLElBQUlmLFNBQVNRLE1BQU0sR0FBRyxLQUFLRCxTQUFTO1FBQ2xDUCxRQUFRLENBQUNBLFNBQVNRLE1BQU0sR0FBRyxFQUFFLENBQUNLLE9BQU8sR0FBRyxDQUFDOzs7OztBQUs3QyxFQUFFYixRQUFRLENBQUNBLFNBQVNRLE1BQU0sR0FBRyxFQUFFLENBQUNLLE9BQU8sQ0FBQzs7Ozs7OztBQU94QyxFQUFFRyxLQUFLQyxTQUFTLENBQUNWLFNBQVM7Ozs7Ozs7Ozs7Ozs7O0FBYzFCLENBQUM7SUFDQztJQUVBTyxRQUFRQyxHQUFHLENBQUMsK0JBQStCZjtJQUUzQyxNQUFNa0IsU0FBUyxNQUFNdEIsOENBQVVBLENBQUM7UUFDOUJNLE9BQU9MLGtEQUFJQSxDQUFDSztRQUNaaUIsUUFDRTtRQUNGbkI7SUFDRjtJQUVBLE9BQU9rQixPQUFPRSxvQkFBb0I7QUFDcEM7QUFFQSxNQUFNVCxlQUFlLE9BQU9VLFVBQWtCckI7SUFDNUMsTUFBTXNCLFFBQVFuQixRQUFRQyxHQUFHLENBQUNtQixlQUFlO0lBQ3pDLE1BQU1DLHVCQUF1QnJCLFFBQVFDLEdBQUcsQ0FBQ3FCLHVCQUF1QjtJQUNoRSxNQUFNQyxhQUFhdkIsUUFBUUMsR0FBRyxDQUFDdUIsWUFBWTtJQUUzQyxJQUFJLENBQUNMLE9BQU87UUFDVixNQUFNLElBQUloQixNQUNSO0lBRUo7SUFFQSxJQUFJLENBQUNrQixzQkFBc0I7UUFDekIsTUFBTSxJQUFJbEIsTUFDUjtJQUVKO0lBRUEsSUFBSSxDQUFDb0IsWUFBWTtRQUNmLE1BQU0sSUFBSXBCLE1BQ1I7SUFFSjtJQUVBLE1BQU1zQixVQUFlO1FBQ25CUDtRQUNBUSxZQUFZO1FBQ1pDLFFBQVE7SUFDVjtJQUVBLElBQUk5QixZQUFZQSxTQUFTUSxNQUFNLEdBQUcsR0FBRztRQUNuQ29CLFFBQVFyQixPQUFPLEdBQUc7WUFDaEJQLFVBQVVBO1FBQ1o7SUFDRjtJQUVBLE1BQU0rQixXQUFXLE1BQU1DLE1BQU1SLHNCQUFzQjtRQUNqRFMsUUFBUTtRQUNSQyxTQUFTO1lBQ1AsZ0JBQWdCO1lBQ2hCQyxlQUFlYjtRQUNqQjtRQUNBYyxNQUFNcEIsS0FBS0MsU0FBUyxDQUFDVztJQUN2QjtJQUVBLElBQUksQ0FBQ0csU0FBU00sRUFBRSxFQUFFO1FBQ2hCLE1BQU0sSUFBSS9CLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRXlCLFNBQVNPLFVBQVUsRUFBRTtJQUNoRTtJQUVBLE1BQU1DLE9BQU8sTUFBTVIsU0FBUzlCLElBQUk7SUFDaEMsT0FBT3NDO0FBQ1QiLCJzb3VyY2VzIjpbIkQ6XFxQcm9qZWN0c1xcUHl0aG9uXFx2ZXJjZWxcXGNoYXRib3RcXHNyY1xcYXBwXFxhcGlcXGNoYXRcXHJvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvcmVNZXNzYWdlLCBzdHJlYW1UZXh0IH0gZnJvbSBcImFpXCI7XG5pbXBvcnQgeyBncm9xIH0gZnJvbSBcIkBhaS1zZGsvZ3JvcVwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IFJlcXVlc3QpIHtcbiAgY29uc3QgeyBtZXNzYWdlcyB9OiB7IG1lc3NhZ2VzOiBDb3JlTWVzc2FnZVtdIH0gPSBhd2FpdCByZXEuanNvbigpO1xuICBjb25zdCBtb2RlbCA9IHByb2Nlc3MuZW52Lk1PREVMO1xuXG4gIGlmICghbW9kZWwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIk1PREVMIGlzIG5vdCBzZXQgaW4gdGhlIGVudmlyb25tZW50IHZhcmlhYmxlcy4gUGxlYXNlIGFkZCBpdCB0byB5b3VyIGVudmlyb25tZW50IHNldHRpbmdzIChlLmcuIC5lbnYuZGV2ZWxvbWVudCkgZmlsZS5cIixcbiAgICApO1xuICB9XG4gIGxldCBjb250ZXh0ID0gbnVsbDtcblxuICBpZiAobWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IHByZXZpb3VzTWVzc2FnZXMgPSBtZXNzYWdlcy5zbGljZSgwLCAtMSk7XG4gICAgY29udGV4dCA9IGF3YWl0IHJldHJpZXZlRGF0YShTdHJpbmcobWVzc2FnZXNbbWVzc2FnZXMubGVuZ3RoIC0gMV0uY29udGVudCksIHByZXZpb3VzTWVzc2FnZXMpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKFwiTm8gbWVzc2FnZXMgYXZhaWxhYmxlLCBza2lwcGluZyByZXRyaWV2ZURhdGEuXCIpO1xuICB9XG5cbiAgLy8gT3ZlcnJpZGUgdGhlIGxhc3QgbWVzc2FnZSB0byBpbmNsdWRlIHRoZSBjb250ZXh0IGFuZCBpbnN0cnVjdGlvbnNcbiAgaWYgKG1lc3NhZ2VzLmxlbmd0aCA+IDAgJiYgY29udGV4dCkge1xuICAgIG1lc3NhZ2VzW21lc3NhZ2VzLmxlbmd0aCAtIDFdLmNvbnRlbnQgPSBgXG5Zb3UgYXJlIHRhc2tlZCB3aXRoIGdlbmVyYXRpbmcgYSB0cmVhdG1lbnQgcGxhbiB1c2luZyBwcm92aWRlZCBjaHVua3Mgb2YgaW5mb3JtYXRpb24sIGNvbnNpZGVyIGZpcnN0IHN0ZXBzIGZpcnN0IGJlZm9yZSB1c2luZyBtZWRpY2F0aW9ucy4gWW91ciBnb2FsIGlzIHRvIHByb3ZpZGUgYW4gYWNjdXJhdGUgYW5zd2VyIHdoaWxlIGNpdGluZyB5b3VyIHNvdXJjZXMgdXNpbmcgYSBzcGVjaWZpYyBtYXJrZG93biBmb3JtYXQuXG5cbkhlcmUgaXMgdGhlIHF1ZXN0aW9uIHlvdSBuZWVkIHRvIGFuc3dlcjpcbjxxdWVzdGlvbj5cbiR7bWVzc2FnZXNbbWVzc2FnZXMubGVuZ3RoIC0gMV0uY29udGVudH1cbjwvcXVlc3Rpb24+XG5cbkJlbG93IGFyZSBjaHVua3Mgb2YgaW5mb3JtYXRpb24gdGhhdCB5b3UgY2FuIHVzZSB0byBhbnN3ZXIgdGhlIHF1ZXN0aW9uLiBFYWNoIGNodW5rIGlzIHByZWNlZGVkIGJ5IGEgXG5zb3VyY2UgaWRlbnRpZmllciBpbiB0aGUgZm9ybWF0IFtzb3VyY2U9WCZsaW5rPVldLCB3aGVyZSBYIGlzIHRoZSBzb3VyY2UgbnVtYmVyIGFuZCBZIGlzIHRoZSBVUkwgb2YgdGhlIHNvdXJjZTpcblxuPGNodW5rcz5cbiR7SlNPTi5zdHJpbmdpZnkoY29udGV4dCl9XG48L2NodW5rcz5cblxuWW91ciB0YXNrIGlzIHRvIGFuc3dlciB0aGUgcXVlc3Rpb24gdXNpbmcgdGhlIGluZm9ybWF0aW9uIHByb3ZpZGVkIGluIHRoZXNlIGNodW5rcy4gXG5XaGVuIHlvdSB1c2UgaW5mb3JtYXRpb24gZnJvbSBhIHNwZWNpZmljIGNodW5rIGluIHlvdXIgYW5zd2VyLCB5b3UgbXVzdCBjaXRlIGl0IHVzaW5nIGEgbWFya2Rvd24gbGluayBmb3JtYXQuIFxuVGhlIGNpdGF0aW9uIHNob3VsZCBhcHBlYXIgYXQgdGhlIGVuZCBvZiB0aGUgc2VudGVuY2Ugd2hlcmUgdGhlIGluZm9ybWF0aW9uIGlzIHVzZWQuXG5cbklmIHlvdSBjYW5ub3QgYW5zd2VyIHRoZSBxdWVzdGlvbiB1c2luZyB0aGUgcHJvdmlkZWQgY2h1bmtzLCBzYXkgXCJTb3JyeSBJIGRvbid0IGtub3dcIi5cblxuVGhlIGNpdGF0aW9uIGZvcm1hdCBzaG91bGQgYmUgYXMgZm9sbG93czpcbltDaHVuayBzb3VyY2VdKFVSTClcblxuRm9yIGV4YW1wbGUsIGlmIHlvdSdyZSB1c2luZyBpbmZvcm1hdGlvbiBmcm9tIHRoZSBjaHVuayBsYWJlbGVkIFtzb3VyY2U9MyZsaW5rPWh0dHBzOi8vZXhhbXBsZS5jb20vcGFnZV0sIHlvdXIgY2l0YXRpb24gd291bGQgbG9vayBsaWtlIHRoaXM6XG5bM10oaHR0cHM6Ly9leGFtcGxlLmNvbS9wYWdlKSBhbmQgd291bGQgb3BlbiBhIG5ldyB0YWIgdG8gdGhlIHNvdXJjZSBVUkwgd2hlbiBjbGlja2VkLlxuYDtcbiAgfVxuXG4gIGNvbnNvbGUubG9nKFwic2VuZGluZyBtZXNzYWdlcyB0byB0aGUgTExNXCIsIG1lc3NhZ2VzKTtcblxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzdHJlYW1UZXh0KHtcbiAgICBtb2RlbDogZ3JvcShtb2RlbCkgYXMgYW55LFxuICAgIHN5c3RlbTpcbiAgICAgIFwiWW91IGFyZSB0aGUgYmVzdCBIeXBlcnRlbnNpb24gRG9jdG9yIGNhcGFibGUgb2YgZ2VuZXJhdGluZyB0aGUgYmVzdCB0cmVhdG1lbnQgcGxhbiBiYXNlZCBvbiB0aGUgcGF0aWVudCBvdmVydmlldy4gWW91IGFsd2F5cyBnZW5lcmF0ZSB5b3VyIHJlc3BvbnNlcyBhcyBjb3JyZWN0bHkgc3RydWN0dXJlZCwgdmFsaWQgbWFya2Rvd24uXCIsXG4gICAgbWVzc2FnZXMsXG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQudG9EYXRhU3RyZWFtUmVzcG9uc2UoKTtcbn1cblxuY29uc3QgcmV0cmlldmVEYXRhID0gYXN5bmMgKHF1ZXN0aW9uOiBzdHJpbmcsIG1lc3NhZ2VzOiBDb3JlTWVzc2FnZVtdKSA9PiB7XG4gIGNvbnN0IHRva2VuID0gcHJvY2Vzcy5lbnYuVkVDVE9SSVpFX1RPS0VOO1xuICBjb25zdCBwaXBlbGluZVJldHJpZXZhbFVybCA9IHByb2Nlc3MuZW52LlZFQ1RPUklaRV9SRVRSSUVWQUxfVVJMO1xuICBjb25zdCBncm9xQXBpS2V5ID0gcHJvY2Vzcy5lbnYuR1JPUV9BUElfS0VZO1xuXG4gIGlmICghdG9rZW4pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIlZFQ1RPUklaRV9UT0tFTiBpcyBub3Qgc2V0IGluIHRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMuIFBsZWFzZSBhZGQgaXQgdG8geW91ciBlbnZpcm9ubWVudCBzZXR0aW5ncyAoZS5nLiAuZW52LmRldmVsb21lbnQpIGZpbGUuXCIsXG4gICAgKTtcbiAgfVxuXG4gIGlmICghcGlwZWxpbmVSZXRyaWV2YWxVcmwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcInBpcGVsaW5lUmV0cmlldmFsVXJsIGlzIG5vdCBzZXQuIFBsZWFzZSBkZWZpbmUgdGhlIFVSTCBpbiB0aGUgZW52aXJvbm1lbnQgc2V0dGluZ3MgKGUuZy4gaW4gdGhlIGZpbGUgLmVudi5kZXZlbG9wbWVudCkgYmVmb3JlIGNhbGxpbmcgcmV0cmlldmVEYXRhLlwiLFxuICAgICk7XG4gIH1cblxuICBpZiAoIWdyb3FBcGlLZXkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkdST1FfQVBJX0tFWSBpcyBub3Qgc2V0IGluIHRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMuIFBsZWFzZSBhZGQgaXQgdG8geW91ciBlbnZpcm9ubWVudCBzZXR0aW5ncyAoZS5nLiAuZW52LmRldmVsb21lbnQpIGZpbGUuXCIsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHBheWxvYWQ6IGFueSA9IHtcbiAgICBxdWVzdGlvbixcbiAgICBudW1SZXN1bHRzOiA1LFxuICAgIHJlcmFuazogdHJ1ZSxcbiAgfTtcblxuICBpZiAobWVzc2FnZXMgJiYgbWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgIHBheWxvYWQuY29udGV4dCA9IHtcbiAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlcyxcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwaXBlbGluZVJldHJpZXZhbFVybCwge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICBBdXRob3JpemF0aW9uOiB0b2tlbixcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICB9KTtcblxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggZGF0YTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICB9XG5cbiAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgcmV0dXJuIGRhdGE7XG59O1xuIl0sIm5hbWVzIjpbInN0cmVhbVRleHQiLCJncm9xIiwiUE9TVCIsInJlcSIsIm1lc3NhZ2VzIiwianNvbiIsIm1vZGVsIiwicHJvY2VzcyIsImVudiIsIk1PREVMIiwiRXJyb3IiLCJjb250ZXh0IiwibGVuZ3RoIiwicHJldmlvdXNNZXNzYWdlcyIsInNsaWNlIiwicmV0cmlldmVEYXRhIiwiU3RyaW5nIiwiY29udGVudCIsImNvbnNvbGUiLCJsb2ciLCJKU09OIiwic3RyaW5naWZ5IiwicmVzdWx0Iiwic3lzdGVtIiwidG9EYXRhU3RyZWFtUmVzcG9uc2UiLCJxdWVzdGlvbiIsInRva2VuIiwiVkVDVE9SSVpFX1RPS0VOIiwicGlwZWxpbmVSZXRyaWV2YWxVcmwiLCJWRUNUT1JJWkVfUkVUUklFVkFMX1VSTCIsImdyb3FBcGlLZXkiLCJHUk9RX0FQSV9LRVkiLCJwYXlsb2FkIiwibnVtUmVzdWx0cyIsInJlcmFuayIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImJvZHkiLCJvayIsInN0YXR1c1RleHQiLCJkYXRhIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/chat/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@opentelemetry","vendor-chunks/zod","vendor-chunks/ai","vendor-chunks/@ai-sdk","vendor-chunks/zod-to-json-schema","vendor-chunks/eventsource-parser","vendor-chunks/secure-json-parse","vendor-chunks/nanoid"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=D%3A%5CProjects%5CPython%5Cvercel%5Cchatbot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProjects%5CPython%5Cvercel%5Cchatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();